<!doctype html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel = "Shortcut Icon" href= 'favicon.ico' >
    <title>my blog</title>
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <div class="main">
        <header>
  <nav class="navbar navbar-default navbar-fixed-top navbar-inverse" role="navigation">
<div class="container-fluid">
  <!-- Brand and toggle get grouped for better mobile display -->
  <div class="navbar-header">
    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="https://yuzai.github.io/myhomepage"><i class= 'icon-home'></i> Xiaobo Ma</a>
  </div>

  <!-- Collect the nav links, forms, and other content for toggling -->
  <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
    <ul class="nav navbar-nav navbar-left">
    <li><a href="https://github.com/yuzai"><i class= 'icon-github'> Github</i></a></li>
    <li><a href="/rs/wechat.jpg"> WeChat</a></li>
    <li><a href="https://shop112051817.taobao.com/?spm=2013.1.1000126.d21.cwM4Hx"><i class= 'icon-shopping-cart'></i> Store</a></li>
    </ul>
    <ul class="nav navbar-nav navbar-right">
      
          <li><a href="/" >Home</a></li>
      
          <li><a href="/archives" >Archives</a></li>
      
          <li><a href="/tag" >Tags</a></li>
      
          <li><a href="/about" >About</a></li>
      
    </ul>
  </div><!-- /.navbar-collapse -->
</div><!-- /.container-fluid -->
</nav>

</header>


    <article>
      <div class = 'container-fluid'>
      <div class = 'row'>
        <div class = 'col-xs-12 col-xs-offset-0 col-md-7 col-md-offset-1 col-sm-7 col-sm-offset-1 col-lg-7 col-lg-offset-1'>
          <div class ='well'>
        <h1 class='post-title'>
            <span>hexo自己做主题（1） 关于hexo的一点疑问</span>
        </h1>
        <section class='post-content'>
            <h3 id="hexo变量的作用域"><a href="#hexo变量的作用域" class="headerlink" title="hexo变量的作用域"></a>hexo变量的作用域</h3><h4 id="问题：page变量在archive-ejs和post-ejs中的含义不同，不好在post页面访问整个博客的所有文章列表"><a href="#问题：page变量在archive-ejs和post-ejs中的含义不同，不好在post页面访问整个博客的所有文章列表" class="headerlink" title="问题：page变量在archive.ejs和post.ejs中的含义不同，不好在post页面访问整个博客的所有文章列表"></a>问题：page变量在archive.ejs和post.ejs中的含义不同，不好在post页面访问整个博客的所有文章列表</h4><p>根据手册，archive.ejs中的page表示的是所有的文章，也就是page.posts的元素就是每一篇文章。而在post.ejs中，也就是访问:year/:month…某篇文章时，page变量就是archive.ejs中的page.posts中对应于该文章的变量。<br>我希望实现的功能是在post.ejs中，也就是展示每篇文章的页面时，左侧显示文章，右侧显示toc,同时toc下面显示我发表过的文章。但是在post.ejs中并不能访问archive中page.posts变量，在post.ejs中，page就表示当前页面，page(in post.ejs)=page.post[index] (in archive.ejs)。所以不能访问到整个的博客文章变量，不好将其显示出来。</p>
<h3 id="思考"><a href="#思考" class="headerlink" title="思考"></a>思考</h3><p>变量是内部定义好的，框架这样安排是有它的道理的，这样，在post中可以很方便的处理当前文章的内容，而在archive中，可以直接对所有的文章进行相应的处理。在性能上应该有不少提升，很想知道内部的实现原理。不过要看源码了。暂时还是把自己的博客主题做好，不容易啊。</p>
<h3 id="暂时的解决方案"><a href="#暂时的解决方案" class="headerlink" title="暂时的解决方案"></a>暂时的解决方案</h3><p>hexo提供的辅助函数（helpers）可以解决这个问题<br><code>&lt;%- list_archives([options]) %&gt;</code><br>  可以显示当前的列表，具体的参数设置可以查看手册<br>  <code>&lt;%- list_posts([options]) %&gt;</code>可以显示所有的文章，具体有个格式，索然可以通过更改options获得自己想要的格式，不过获取这个格式之后，可以自己添加js,css来实现想要的渲染效果。</p>

        </section>
          </div>
       </div>
       <div class = 'col-xs-12 col-xs-offset-0 col-md-3 col-md-offset-0 col-sm-3 col-sm-offset-0 col-lg-3 col-lg-offset-0'>
       <div class = 'well'>
        <aside class='post-aside'>
           <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#hexo变量的作用域"><span class="toc-text">hexo变量的作用域</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#问题：page变量在archive-ejs和post-ejs中的含义不同，不好在post页面访问整个博客的所有文章列表"><span class="toc-text">问题：page变量在archive.ejs和post.ejs中的含义不同，不好在post页面访问整个博客的所有文章列表</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#思考"><span class="toc-text">思考</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#暂时的解决方案"><span class="toc-text">暂时的解决方案</span></a></li></ol>
           <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">九月 2016</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">九月 2015</a><span class="archive-list-count">1</span></li></ul>
           <ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2016/09/28/关于hexo的一点疑问/">hexo自己做主题（1） 关于hexo的一点疑问</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/26/My-blog-is-building/">My blog is building....</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/22/My-first-Post/">My first Post</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/09/26/hello-world/">Hello World</a></li></ul>
           
  <img id = 'my_picture'>
  <p style='text-align:center;font-size:30px'>Xiaobo Ma</p>
  <ul id='aboutme'>
    <li><a  title = 'blog' href= 'https://yuzai.github.io' role="button"><i class= 'icon-home'></i></a></li>
    <li><a  title = 'github' href="https://github.com/yuzai" role="button"><i class= 'icon-github'></i></a></li>
    <li><a  title = 'twitter' href="#" role="button"><i class= 'icon-twitter'></i></a></li>
    <li><a  title = 'my store'href="https://shop112051817.taobao.com/?spm=2013.1.1000126.d21.cwM4Hx" role="button"><i class= 'icon-shopping-cart'></i></a></li>
  </ul>
  <section id = 'tags'>
   <a class="btn btn-default" href = '#' >前端</a>
   <a class="btn btn-default" href = '#'>houduan</a>
   <a class="btn btn-default" href = '#'>houduan</a>
   <a class="btn btn-default" href = '#'>houduan</a>
  <section>

        </aside>
      </div>
      </div>
      </div>
        
            <section id="comments">
            
            </section>
        

      </div>
    </article>


<footer class='myfoot'>
  <div class=" container-fluid" >
       <p><a href = 'https://github.com/yuzai'>Writer:Maxiaobo  <i class='icon-github'></i></a></p>
  </div>
</footer>


    </div>
    <script src="/js/jquery-1.12.3.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/index.js"></script>
    <script src="/js/star.js"></script>
    <script src="/js/moon.js"></script>
    <script src="/js/meteor.js"></script>
    <script src="/js/main.js"></script>
</body>
</html>
